<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!-- 小板报 -->

<!-- 注入唯一来源的配置：把原先 site-config.html 的两段迁移到这里 -->
<script th:inline="javascript">
  (function () {
    window.GLOBAL_CONFIG = window.GLOBAL_CONFIG || {};
    GLOBAL_CONFIG.source = GLOBAL_CONFIG.source || {};
    GLOBAL_CONFIG.source.welcome = {
      key: "[(${theme.config.sidebar.welcome.key})]",
      locationLng: [[${theme.config.sidebar.welcome.locationLng}]],
      locationLat: [[${theme.config.sidebar.welcome.locationLat}]]
    };
  })();
</script>

<!-- ★ 新增：仅对小板报 IP 文本生效的隐藏样式 -->
<style>
  /* 默认用圆点占位；鼠标悬停（或聚焦）才显示真实 IP */
  #welcome-info .ip-hide { cursor: pointer; user-select: none; }
  #welcome-info .ip-hide::before { content: "••••••••••"; }
  #welcome-info .ip-hide:hover::before,
  #welcome-info .ip-hide:focus::before { content: attr(data-ip); }
</style>

<div class="card-widget card-announcement" th:fragment="welcome">
    <div class="item-headline"><i class="haofont hao-icon-bullhorn"
                                  style="font-size: 0.9rem;font-weight: 700;"></i><span>小板报</span></div>

    <div id="welcome-info"></div>
</div>

</html>
