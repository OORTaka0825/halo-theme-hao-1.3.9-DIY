<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{modules/layouts/layout :: layout(content = ~{::content}, htmlType = 'fcircle',title = ${singlePage.spec.title + ' | ' + site.title}, head = ~{::head} )}">
<th:block th:fragment="head">
    <!-- ä¼˜å…ˆä¸»é¢˜è®¾ç½®ï¼Œå…¶æ¬¡é¡µé¢å­—æ®µ -->
    <th:block th:replace="~{modules/common/open-graph :: open-graph(
                _title    = ${#strings.isEmpty(theme.config.fcircle.bigTitle) ? singlePage.spec.title : theme.config.fcircle.bigTitle},
                _permalink= ${singlePage.status.permalink},
                _cover    = ${#strings.isEmpty(theme.config.fcircle.background) ? singlePage.spec.cover : theme.config.fcircle.background},
                _excerpt  = ${#strings.isEmpty(theme.config.fcircle.description) ? singlePage.status.excerpt : theme.config.fcircle.description},
                _type     = 'website')}"></th:block>
</th:block>
<th:block th:fragment="content">

    <div class="page" id="body-wrap">

        <!-- å¤´éƒ¨å¯¼èˆªæ ï¼šæ ‡é¢˜åŒæ ·ä¼˜å…ˆè¯»ä¸»é¢˜é…ç½® -->
        <header class="not-top-img" id="page-header">
            <nav th:replace="~{modules/nav :: nav(
                    title = ${#strings.isEmpty(theme.config.fcircle.bigTitle) ? singlePage.spec.title : theme.config.fcircle.bigTitle}
            )}"></nav>
        </header>

        <main class="layout hide-aside" id="content-inner">
            <div id="page">

                <!-- å¤´å›¾ç»„ä»¶ï¼šèƒŒæ™¯å›¾/å°æ ‡é¢˜/å¤§æ ‡é¢˜/æè¿° ä¼˜å…ˆä¸»é¢˜è®¾ç½® -->
                <div th:replace="~{macro/author-content :: author-content(
                    background = ${#strings.isEmpty(theme.config.fcircle.background) ? singlePage.spec.cover : theme.config.fcircle.background},
                    smallTitle = ${#strings.isEmpty(theme.config.fcircle.smallTitle) ? 'å‹é“¾' : theme.config.fcircle.smallTitle},
                    bigTitle   = ${#strings.isEmpty(theme.config.fcircle.bigTitle) ? singlePage.spec.title : theme.config.fcircle.bigTitle},
                    detail     = ${#strings.isEmpty(theme.config.fcircle.description) ? singlePage.spec.excerpt.raw : theme.config.fcircle.description},
                    buttonUrl  = ${#strings.isEmpty(theme.config.fcircle.buttonUrl) ? site.url : theme.config.fcircle.buttonUrl},
                    buttonTitle= ${#strings.isEmpty(theme.config.fcircle.buttonTitle) ? 'éƒ¨ç½²é¡¹ç›®' : theme.config.fcircle.buttonTitle}
                )}"></div>

                <!--é’“é±¼-->
                <th:block th:if="${theme.config.fcircle.fcircleRandomFriendsEnable}" >
                    <div class="title-h2-a">
                        <div class="title-h2-a-left">
                            <h2 style="padding-top:0;margin:.6rem 0 .6rem">ğŸ£ é’“é±¼</h2>
                            <a class="random-post-start" href="javascript:fetchRandomPost();">
                                <i class="haofont hao-icon-arrow-rotate-right"></i>
                            </a>
                        </div>
                        <div th:if="${not #strings.isEmpty(theme.config.link.linksUrl)}" class="title-h2-a-right">
                            <a class="random-post-all" th:href="${theme.config.link.linksUrl}">å…¨éƒ¨å‹é“¾</a>
                        </div>
                    </div>
                    <div id="random-post"></div>
                    <script type="text/javascript">
                        var fdataUser = {
                            apiurl: "[(${theme.config.fcircle.apiurl})]",
                            defaultFish: 500,
                            hungryFish: 500,
                        }
                    </script>
                    <script th:src="${assets_link + '/libs/moments/random-friends-post.js'}"></script>
                </th:block>

                <!--é±¼å¡˜-->
                <div class="title-h2-a">
                    <div class="title-h2-a-left">
                        <h2 style="padding-top: 0;margin:0.6rem 0 0.6rem;">ğŸŸ é±¼å¡˜</h2>
                    </div>
                    <div class="title-h2-a-right"><span>ä»¥ä¸‹å†…å®¹è‡ªåŠ¨ç”Ÿæˆï¼Œæœªç»è¿‡å®¡æ ¸</span></div>
                </div>
                <div id="hexo-circle-of-friends-root"></div>
                <script type="text/javascript">
                    var UserConfig = {
                        // å¡«å†™ä½ çš„apiåœ°å€ï¼ˆä¸»é¢˜è®¾ç½®é‡Œå¡«çº¯åŸºå€ï¼Œä¾‹å¦‚ https://hao-yutang.vercel.app æˆ– /apiï¼‰
                        private_api_url: "[(${theme.config.fcircle.apiurl})]",
                        // ç‚¹å‡»åŠ è½½æ›´å¤šæ—¶ï¼Œä¸€æ¬¡æœ€å¤šåŠ è½½å‡ ç¯‡æ–‡ç« 
                        page_turning_number: 12,
                        // å¤´åƒåŠ è½½å¤±è´¥æ—¶ï¼Œé»˜è®¤å¤´åƒåœ°å€
                        error_img: 'https://sdn.geekzu.org/avatar/57d8260dfb55501c37dde588e7c3852c',
                        // è¿›å…¥é¡µé¢æ—¶ç¬¬ä¸€æ¬¡çš„æ’åºè§„åˆ™
                        sort_rule: 'created'
                    }
                </script>
                <link rel="stylesheet" th:href="${assets_link + '/libs/moments/heoMainColor.css'}">
                <script type="text/javascript" th:src="${assets_link + '/libs/moments/app.min.js'}"></script>
                <script type="text/javascript" th:src="${assets_link + '/libs/moments/bundle.js'}"></script>

                <style>
                    /*ä¿®å¤å‹é“¾æœ‹å‹åœˆç®¡ç†é¢æ¿æ˜¾ç¤ºå¤ªå¤§å¯¼è‡´æ— æ³•å…³é—­çš„bug*/
                    .cf-manage-pannel[data-v-34921c7c] {
                        width: 80% !important;
                        height: 80% !important;
                    }
                    .cf-article-author:hover {
                        color: var(--heo-card-bg)!important
                    }
                    #cf-more:hover{
                        background: var(--heo-lighttext)!important;
                        color: var(--heo-card-bg)!important
                    }
                </style>

            </div>
        </main>

        <!-- åº•éƒ¨ -->
        <footer th:replace="~{modules/footer}"/>

        <!-- å¡ç‰‡é¡¶éƒ¨æ°”æ³¡æ•ˆæœ -->
        <script th:if="${theme.config.other.bubbleEnable}" async data-pjax th:src="${assets_link + '/libs/canvas/bubble.js'}"></script>
    </div>

</th:block>

</html>
