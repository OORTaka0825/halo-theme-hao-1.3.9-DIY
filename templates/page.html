<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
      th:replace="~{modules/layouts/layout :: layout(content = ~{::content}, htmlType = 'page',title = ${singlePage.spec.title + ' | ' + site.title}, head = ~{::head})}">
<th:block th:fragment="head">
    <th:block th:replace="~{modules/common/open-graph :: open-graph(_title = ${singlePage.spec.title},
                _permalink = ${singlePage.status.permalink},
                _cover = ${singlePage.spec.cover},
                _excerpt = ${singlePage.status.excerpt},
                _type = 'website')}">
    <style>
      /* widen custom page when no sidebar */
      .page .l_main.no-aside{display:grid;grid-template-columns:1fr!important}
    </style>


    <style>
      /* widen custom page when no sidebar */
      .page .l_main.no-aside{display:grid;grid-template-columns:1fr!important}
      /* broaden page containers to avoid narrow content */
      .page .container,
      .page .page-container,
      .page .content-inner,
      .page .l_main,
      .page .main-content {
        max-width: 1280px !important;
        width: 100% !important;
        margin-left: auto !important;
        margin-right: auto !important;
      }
      /* if theme uses a fixed content width on article, relax it */
      .page .post-content,
      .page .article,
      .page .page-content {
        max-width: 100% !important;
        width: 100% !important;
      }
    </style>


    <style>
      /* Override theme narrow width on custom pages without sidebar */
      .page #content-inner.layout.hide-aside { max-width: 1280px !important; }
      /* Ensure inner column uses full width */
      .page #content-inner.layout.hide-aside > div { width: 100% !important; }
    </style>

</th:block>
</th:block>
<th:block th:fragment="content">

    <div class="page" id="body-wrap">

        <!-- 头部导航栏 -->
        <header class="not-top-img" id="page-header">
            <nav th:replace="~{modules/nav :: nav(title = ${singlePage.spec.title})}"></nav>
        </header>
        <main class="layout" th:classappend="${not #strings.isEmpty(theme.config.sidebar.widgetss.pageWidget) ? '' : 'hide-aside'}" id="content-inner">
            <div id="page">
                <div  id="article-container"
                      th:class="${ theme.config.code.enable_line || pluginFinder.available('PluginPrismJS') ? 'line-numbers' : ''}"
                      th:utext="${singlePage.content.content}"></div>
                <hr>
                <!--/* 评论组件 */-->
                <th:block
                        th:replace="~{modules/comment :: comment(group = 'content.halo.run',
                  kind = 'SinglePage',
                  name = ${singlePage.metadata.name},
                  allowComment = ${singlePage.spec.allowComment})}"/>

            </div>

            <!-- 侧栏 -->
            <div th:replace="~{modules/aside :: aside(${theme.config.sidebar.widgetss.pageWidget})}" th:classappend="${#lists.isEmpty(theme.config.sidebar.widgetss.pageWidget)} ? ' no-aside' : ''" th:if="${!#lists.isEmpty(theme.config.sidebar.widgetss.pageWidget)}"></div>

        </main>
        <!-- 底部 -->
        <footer th:replace="~{modules/footer}"/>
    </div>

</th:block>

</html>

